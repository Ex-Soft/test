<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>&laquo;Test XTemplate I&raquo;</title>
		<link rel="stylesheet" href="../../../../../Sencha/ExtJS/ExtJS3/ExtJS3/resources/css/ext-all.css"/>
		<script charset="utf-8" src="../../../../../Sencha/ExtJS/ExtJS3/ExtJS3/adapter/ext/ext-base-debug.js"></script>
		<script charset="utf-8" src="../../../../../Sencha/ExtJS/ExtJS3/ExtJS3/ext-all-debug.js"></script>
		<style>
.itemSelector
{
	color: red;
	font-weight: bold;
}

.itemSelector dd
{
	color: blue;
	margin: 0 10px;
}

dd
{
	display: list-item;
	list-style-type: square;
}
		</style>
		<script>
Ext.BLANK_IMAGE_URL="../../../../../Sencha/ExtJS/ExtJS3/ExtJS3/resources/images/default/s.gif";

Ext.onReady(function() {
	Ext.QuickTips.init();

	var
		data = [{ 
			"id": 1,
			"name": "Record# 1", 
			"children": [
				{ "id": 11, "name": "Record# 11" },
				{ "id": 12, "name": "Record# 12" },
				{ "id": 13, "name": "Record# 13" },
				{ "id": 14, "name": "Record# 14" }
			]
		}, { 
			"id": 2,
			"name": "Record# 2", 
			"children": [
				{ "id": 21, "name": "Record# 21" },
				{ "id": 22, "name": "Record# 22" },
				{ "id": 23, "name": "Record# 23" },
				{ "id": 24, "name": "Record# 24" }
			]
		}, { 
			"id": 3,
			"name": "Record# 3", 
			"children": [
				{ "id": 31, "name": "Record# 31" },
				{ "id": 32, "name": "Record# 32" },
				{ "id": 33, "name": "Record# 33" },
				{ "id": 34, "name": "Record# 34" }
			]
		}, { 
			"id": 4,
			"name": "Record# 4", 
			"children": [
				{ "id": 41, "name": "Record# 41" },
				{ "id": 42, "name": "Record# 42" },
				{ "id": 43, "name": "Record# 43" },
				{ "id": 44, "name": "Record# 44" }
			]
		}],
		tpl1 = new Ext.XTemplate(
			"<tpl for=\".\">",
				"<div class=\"itemSelector\">",
					"<dl>",
						"<dt><dfn>{id} {name}</dfn></dt>",
						"<tpl for=\"children\">",
							"<dd>{id} {name} (parent {parent.name})</dd>",
						"</tpl>",
					"</dl>",
				"</div>",
			"</tpl>"
		),
		tpl2 = new Ext.XTemplate(
			"<tpl for=\".\">",
				"<div class=\"itemSelector\">",
					"<dl>",
						"<dt><dfn>{id} {name}</dfn></dt>",
						"<tpl for=\"children\">",
							"<dd id=\"Rec{id}\">{id} {name} (parent {parent.name})</dd>",
						"</tpl>",
					"</dl>",
				"</div>",
			"</tpl>"
		),
		PanelWest = new Ext.Panel({
			region: "west",
			width: 300
		}),
		PanelEast = new Ext.Panel({
			region: "east",
			width: 300
		}),
		UserInfo = {
			Name: "Name",
			Login: "Login",
			ManagerEmail: "lenin@mail.ru",
			ManagerName: "Manager",
			ManagerPhone: "4-21-35",
			ManagerICQ: 169792846
		},
		PanelCenter = new Ext.Panel({
			region: "center"
		}),
		tpl = new Ext.XTemplate(
			"<span class=\"UserNameLabel\" style=\"display: none; \">User Name:&nbsp;</span><span class=\"UserName\" style=\"display: none; \">{Name}</span>",
			"<span class=\"UserLoginLabel\" style=\"display: none; \">&nbsp;Login:&nbsp;</span><span class=\"UserLogin\">{Login}</span>",
			"<span class=\"ManagerNameLabel\">&nbsp;Manager Name:&nbsp;</span><a href=\"mailto:{ManagerEmail}\">{ManagerName}</a>",
			"<tpl if=\"ManagerPhone\">",
				"<span class=\"ManagerPhoneLabel\">&nbsp;Manager Phone:&nbsp;</span><span class=\"ManagerPhone\">{ManagerPhone}</span>",
			"</tpl>",
			"<tpl if=\"ManagerICQ\">",
				"<a href=\"http://wwp.icq.com/scripts/contact.dll?msgto={ManagerICQ}\"><img src=\"http://status.icq.com/online.gif?icq={ManagerICQ}&img=5\" align=\"center\" valign=\"middle\" border=\"0\" hspace=\"2\" /></a><a href=\"http://wwp.icq.com/scripts/contact.dll?msgto={ManagerICQ}\">{ManagerICQ}</a>",
			"</tpl>"
		),
		viewport = new Ext.Viewport({
			layout: "border",
			border: false,
			renderTo: Ext.getBody(),
			items: [ PanelWest, PanelCenter, PanelEast ]
		});

		tpl.overwrite(PanelCenter.body, UserInfo);
		tpl1.overwrite(PanelWest.body, data);
		tpl2.overwrite(PanelEast.body, data);
});
		</script>
	</head>
	<body>
	</body>
</html>
