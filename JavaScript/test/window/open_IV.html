<html>
	<head>
		<title>Test open</title>
		<script type="text/javascript">
<!--
function DoIt()
{
	var
		w;

	w=window.open();
	if(w.attachEvent)
	{
		alert("attachEvent");
		w.attachEvent("onload",OnLoad);
		w.attachEvent("onunload",OnUnLoad);
	}
	else if(w.addEventListener)
	{
		alert("addEventListener");
		w.addEventListener("load",OnLoad,false);
		w.addEventListener("unload",OnUnLoad,false);
	}
	else
	{
		alert("!");
		w.onload=OnLoad;
		w.unload=OnUnLoad;
	}
	w.location.href="http://google.com";
}

function OnLoad()
{
	alert("OnLoad");
}

function OnUnLoad()
{
	alert("OnUnLoad");
}
// -->
		</script>

	</head>
	<body>
		<input type="button" value="DoIt!" onclick="DoIt()" />
	</body>
</html>