<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Test &lt;IFRAME&gt; (access) (iframe)</title>
		<script>
function btnOnClick() {
	if (window.console && console.log)
		console.log("iframe.btnOnClick(%o)", arguments);
	
	if (window.top && window.top.smthObj && window.top.smthObj.smthMethod)
    	window.top.smthObj.smthMethod(`Hello from IFRAME #${getUrlSearchParam("frameNo")}`);

	if (window.top && window.top.postMessage)
    	window.top.postMessage(`Hello from IFRAME #${getUrlSearchParam("frameNo")} (window.top.postMessage())`, "*");

	if (window.parent && window.parent.postMessage)
    	window.parent.postMessage(`Hello from IFRAME #${getUrlSearchParam("frameNo")} (window.parent.postMessage())`, "*");
}

function getUrlSearchParam(paramName) {
    var searchParams = new URLSearchParams(location.search);
    return searchParams.get(paramName);
}
		</script>
	<body>
		<button id="btnVictim" onclick="btnOnClick(this)">DoIt!</button>
	</body>
</html>
