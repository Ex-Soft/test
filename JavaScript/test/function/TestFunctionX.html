<!doctype html>
<!-- http://habrahabr.ru/post/149516/ -->
<html>
	<head>
		<meta charset="utf-8">
		<title>Test Function X</title>
		<script>
var
	f = function() {
		if(window.console && console.log)
			console.log("this %s== window", this===window ? "=" : "!");
	};

f();

(function() {
	if(window.console && console.log)
		console.log("this %s== window", this===window ? "=" : "!");
})();

var
	o1 = new f();

var
	ff = function() {
		this.x = 5;
		if(window.console && console.log)
			console.log("this %s== window", this===window ? "=" : "!");
	};

var
	o2 = new ff();

if(window.console && console.log)
	console.log("o2.x %s== 5", o2.x===5 ? "=" : "!");

var
	o = {
		f: function() {
			return this;
		}
	},
	oo = {
		f: o.f
	};

if(window.console && console.log)
	console.log("o.f() %s== o", o.f()===o ? "=" : "!");
if(window.console && console.log)
	console.log("oo.f() %s== oo", oo.f()===oo ? "=" : "!");

function fff() {
	var
		v1 = 10;

	this.v2 = 20;
}

var
	ooo = new fff();

if(window.console && console.log)
	console.log("%o", ooo);
		</script>
	</head>
	<body>
	</body>
</html>
