<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Test Number</title>
		<script>
function roundTo(value, precision)
{
	const factor = precision ? Math.pow(10, -precision) : 1;
    value *= factor;
    return Math.floor(value < 0 ? value - 0.5 : value + 0.5) / factor;
}

function onLoad()
{
	let
		num1 = 1.23456789,
		num2,
		num3;

	if(window.console && console.log) {
		for (let i = 0; i < 10; ++i)
			console.log("num=%o roundTo()=%o toFixed()=%o toPrecision()=%o", num1, roundTo(num1, -i), num1.toFixed(i), i ? num1.toPrecision(i) : "");

		num1 = 0;
		num2 = 0.0; 
		num3 = 0.27;
		console.log("!0=%o !0.0=%o !0.27=%o", !num1, !num2, !num3); // !0===true !0.0===true !0.27===false
	}
	
	let data;
	num1 = parseFloat(data);
	data = null;
	num2 = parseFloat(data);
	console.log("parseFloat(undefined)=%o parseFloat(null)=%o", num1, num2); // NaN NaN

	data = undefined;
	num1 = parseFloat(data?.balance);
	data = null;
	num2 = parseFloat(data?.balance);
	data = {};
	num3 = parseFloat(data?.balance);
	console.log("parseFloat(undefined?.balance)=%o parseFloat(null?.balance)=%o parseFloat({}?.balance)=%o", num1, num2, num3); // NaN NaN NaN
	
	data = undefined;
	num1 = parseFloat(data?.balance ?? "1");
	data = null;
	num2 = parseFloat(data?.balance ?? "2");
	data = {};
	num3 = parseFloat(data?.balance ?? "3");
	console.log("parseFloat(undefined?.balance ?? \"1\")=%o parseFloat(null?.balance ?? \"2\")=%o parseFloat({}?.balance ?? \"3\")=%o", num1, num2, num3); // 1 2 3
	
	data = { balance: undefined };
	num1 = parseFloat(data?.balance ?? "1");
	data = { balance: null };
	num2 = parseFloat(data?.balance ?? "2");
	data = { balance: "" };
	num3 = parseFloat(data?.balance ?? "3");
	console.log("parseFloat(data?.undefined ?? \"1\")=%o parseFloat(data?.null ?? \"2\")=%o parseFloat(data?.\"\" ?? \"3\")=%o", num1, num2, num3); // 1 2 NaN
}
		</script>
	</head>
	<body onload="onLoad()">
	</body>
</html>
